<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="Device">

    <typeAlias alias="device" type="com.netease.flowgame.pojo.Device"/>
    
    <sql id="selectall">
        select id,platform,model_id as modelId from device
    </sql>
    
    <insert id="insertDevice" parameterClass="device">
    	insert into device(id,platform,model_id)
    	values(#id#,#platform#,#modelId#)
    </insert>
    
    <select id="selectList" resultClass="device" parameterClass="java.util.Map">
        <include refid="selectall"/>
        <dynamic prepend="where">
        	<isNotEmpty property="platform" prepend="and">
        		platform = #platform#
        	</isNotEmpty>
        	<isNotEmpty property="modelId" prepend="and">
        		model_id = #modelId#
        	</isNotEmpty>
        </dynamic>
    </select>

    <select id="select" resultClass="device" parameterClass="java.lang.String">
        <include refid="selectall"/>
        where id = #id#
    </select>

    <update id="updateDevice" parameterClass="device">
    	update device set platform = #platform#, model_id = #modelId#
    	where id = #id#
    </update>

	<delete id="deleteDevice" parameterClass="java.lang.String">
		delete from device where id = #id#
	</delete>
</sqlMap>